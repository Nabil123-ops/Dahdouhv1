@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================================
ROOT COLORS + BRAND VARIABLES — ULTRA PREMIUM
============================================================ */
:root {
--primary: #4f46e5;
--secondary: #06b6d4;
--accent: #8b5cf6;

--dark: #0f172a;
--light: #f8fafc;

--glass-bg: rgba(255,255,255,0.20);
--glass-border: rgba(255,255,255,0.28);

--shadow: 0px 12px 40px rgba(0,0,0,0.12);
--glow: 0 0 22px rgba(79,70,229,0.45);

--transition: 0.28s cubic-bezier(0.4,0.0,0.2,1);
}

/* ============================================================
GLOBAL BACKGROUND — PARALLAX + LUXURY GRADIENT
============================================================ */
body {
background: radial-gradient(circle at 20% 30%, #e7e7ff, #e7fbff 50%, #eef3ff);
color: var(--dark);
overflow-x: hidden;
font-smooth: always;
-webkit-font-smoothing: antialiased;
}

.dark body {
background: radial-gradient(circle at 20% 30%, #0f0f16, #0c0f14 50%, #090b10);
color: white;
}

/* Subtle floating motion */
body::before {
content: "";
position: fixed;
top: -20%;
left: -20%;
width: 140%;
height: 140%;
background: radial-gradient(circle at 30% 20%, #4f46e540, transparent 70%),
radial-gradient(circle at 80% 70%, #06b6d440, transparent 70%);
z-index: -1;
filter: blur(60px);
animation: bgFloat 18s ease-in-out infinite alternate;
}

@keyframes bgFloat {
from { transform: translate3d(-20px,-20px,0); }
to   { transform: translate3d(20px,20px,0); }
}

/* ============================================================
GLASS NAVIGATION BAR
============================================================ */
.nav-glass {
position: fixed;
top: 0; left: 0;
width: 100%;
height: 68px;
background: var(--glass-bg);
border-bottom: 1px solid var(--glass-border);
backdrop-filter: blur(22px);
display: flex;
align-items: center;
padding: 0 28px;
z-index: 90;
animation: fadeDown 0.6s ease;
}

@keyframes fadeDown {
from { opacity: 0; transform: translateY(-12px); }
to   { opacity: 1; transform: translateY(0); }
}

/* ============================================================
LOGO GLOW ANIMATION
============================================================ */
.logo-glow {
animation: logoPulse 3.2s ease-in-out infinite;
filter: drop-shadow(0 0 14px rgba(79,70,229,0.6));
}

@keyframes logoPulse {
0%   { transform: scale(1);   filter: drop-shadow(0 0 8px rgba(79,70,229,0.4)); }
50%  { transform: scale(1.10); filter: drop-shadow(0 0 22px rgba(79,70,229,0.8)); }
100% { transform: scale(1);   filter: drop-shadow(0 0 8px rgba(79,70,229,0.4)); }
}

/* ============================================================
DAHDOUH AI — SPINNING CIRCLE AROUND LOGO
============================================================ */
.dahdouh-logo-wrapper {
position: relative;
width: 48px;
height: 48px;
}

.dahdouh-logo {
width: 48px;
height: 48px;
border-radius: 50%;
position: relative;
z-index: 2;
}

/* Circle loader */
.dahdouh-spin-circle {
position: absolute;
top: -6px;
left: -6px;
width: 60px;
height: 60px;
border-radius: 50%;
border-top: 3px solid var(--primary);
border-right: 3px solid transparent;
border-left: 3px solid transparent;
border-bottom: 3px solid transparent;
animation: spinCircle 1s linear infinite;
filter: drop-shadow(0 0 8px rgba(79,70,229,0.6));
}

@keyframes spinCircle {
from { transform: rotate(0deg); }
to   { transform: rotate(360deg); }
}

/* ============================================================
FLOATING MODEL SELECTOR — Apple Glass Tabs
============================================================ */
.model-select-row {
display: flex;
gap: 12px;
padding: 8px 0;
overflow-x: auto;
scrollbar-width: none;
}

.model-btn {
padding: 10px 18px;
border-radius: 16px;
border: 1px solid rgba(230,230,230,0.7);
background: rgba(255,255,255,0.5);
backdrop-filter: blur(14px);
font-size: 0.95rem;
font-weight: 500;
display: flex;
gap: 8px;
align-items: center;
transition: var(--transition);
}

.model-btn:hover {
transform: translateY(-2px);
box-shadow: var(--shadow);
}

.model-btn.active {
transform: scale(1.09);
color: white;
border: none;
background-size: 200% 200%;
animation: popIn 0.25s ease;
}

@keyframes popIn {
from { transform: scale(0.85); opacity: 0; }
to   { transform: scale(1.09); opacity: 1; }
}

/* Gradient versions */
.model-btn.dahdouh-ai.active {
background: linear-gradient(90deg, #4f46e5, #06b6d4);
}
.model-btn.dahdouh-math.active {
background: linear-gradient(90deg, #2563eb, #3b82f6);
}
.model-btn.dahdouh-search.active {
background: linear-gradient(90deg, #fbbf24, #f59e0b);
}
.model-btn.dahdouh-agent.active {
background: linear-gradient(90deg, #16a34a, #22c55e);
}
.model-btn.dahdouh-vision.active {
background: linear-gradient(90deg, #8b5cf6, #06b6d4);
}

/* ============================================================
CHAT BUBBLES (user, ai, agent, math)
============================================================ */
.user-bubble,
.default-style,
.math-style,
.agent-style,
.search-box,
.vision-box {
animation: bubblePop 0.25s ease;
}

@keyframes bubblePop {
from { transform: scale(0.88); opacity: 0; }
to   { transform: scale(1); opacity: 1; }
}

/* User bubble */
.user-bubble {
background: var(--primary);
padding: 14px 18px;
color: white;
border-radius: 18px;
max-width: 80%;
box-shadow: var(--shadow);
}

/* AI default bubble */
.default-style {
background: white;
padding: 18px;
border-radius: 18px;
border: 1px solid #e2e2e2;
box-shadow: var(--shadow);
}

/* Math */
.math-style {
background: #eef3ff;
border-left: 6px solid var(--primary);
padding: 18px;
border-radius: 16px;
}

/* Agent */
.agent-style {
background: #0d1117;
color: #cbd5e1;
padding: 18px;
border-radius: 16px;
border: 1px solid #30363d;
font-family: "JetBrains Mono", monospace;
}

/* Search */
.search-box {
padding: 18px;
border-radius: 16px;
background: white;
border: 1px solid #e4e4e7;
box-shadow: var(--shadow);
}

/* Vision */
.vision-box {
padding: 18px;
border-radius: 16px;
background: white;
box-shadow: var(--shadow);
}

/* Image Generator */
.image-box {
  padding: 18px;
  border-radius: 16px;
  background: #ffffff;
  border: 1px solid #e4e4e7;
  box-shadow: var(--shadow);
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.image-preview {
  width: 100%;
  border-radius: 14px;
  overflow: hidden;
  border: 1px solid #e4e4e7;
  background: #f8fafc;
}

.image-preview img {
  width: 100%;
  height: auto;
  display: block;
}

/* ============================================================
PREMIUM CHAT INPUT BOX — GPT/Claude Style
============================================================ */
.da-chatbox {
background: rgba(255,255,255,0.9);
backdrop-filter: blur(16px);
border-radius: 22px;
border: 1px solid rgba(220,220,220,0.6);
padding: 18px 20px;
display: flex;
align-items: flex-end;
gap: 14px;
box-shadow: 0 8px 20px rgba(0,0,0,0.04);
transition: var(--transition);
min-height: 70px;
}

.da-chatbox:focus-within {
border-color: var(--primary);
box-shadow: 0 0 0 4px rgba(79,70,229,0.18);
}

/* Textarea */
.da-textarea {
flex: 1;
background: transparent;
font-size: 1.18rem;
line-height: 1.5;
padding: 8px 0;
max-height: 250px;
overflow-y: auto;
resize: none;
outline: none;
}

.da-textarea::placeholder {
color: rgba(100,100,100,0.5);
}

/* Attach */
.da-attach-btn {
width: 44px;
height: 44px;
border-radius: 16px;
background: #f0f2f6;
display: grid;
place-content: center;
font-size: 22px;
cursor: pointer;
transition: var(--transition);
}

.da-attach-btn:hover {
background: #e6e8ef;
}

/* Send */
.da-send-btn {
width: 50px;
height: 50px;
background: var(--primary);
color: white;
border-radius: 50%;
display: grid;
place-content: center;
font-size: 22px;
cursor: pointer;
transition: var(--transition);
}

.da-send-btn:hover {
background: #3c37d5;
box-shadow: 0 0 12px rgba(79,70,229,0.5);
}

/* ============================================================
AI TYPING INDICATOR — FLUID DOTS
============================================================ */
.dahdouh-loader {
display: flex;
gap: 6px;
}

.dahdouh-loader div {
width: 10px;
height: 10px;
border-radius: 50%;
background: var(--primary);
animation: loaderAnim 1.4s infinite ease-in-out;
}

.dahdouh-loader div:nth-child(2) { animation-delay: 0.2s; }
.dahdouh-loader div:nth-child(3) { animation-delay: 0.4s; }

@keyframes loaderAnim {
0% { opacity: .3; transform: translateY(0); }
50% { opacity: 1; transform: translateY(-8px); }
100% { opacity: .3; transform: translateY(0); }
}

/* ============================================================
ULTRA PREMIUM FLOATING ANIMATION — DAHDOUH AI (VisionOS Level)
============================================================ */

/* Smooth floating effect with 3D tilt */
.float-typing {
animation: floatTyping 2.4s ease-in-out infinite,
tilt3d 4s ease-in-out infinite;
transform-style: preserve-3d;
will-change: transform, filter;
position: relative;
}

/* Liquid distortion behind the message */
.float-typing::before {
content: "";
position: absolute;
inset: -12px;
background: radial-gradient(circle, rgba(79,70,229,0.25), transparent 70%);
filter: blur(24px);
animation: liquidPulse 3s ease-in-out infinite;
z-index: -1;
border-radius: 22px;
}

/* VisionOS fog layer */
.float-typing::after {
content: "";
position: absolute;
inset: -4px;
backdrop-filter: blur(22px) brightness(1.1);
border-radius: 20px;
opacity: 0.25;
animation: fogFloat 5s ease-in-out infinite alternate;
z-index: -2;
}

/* Floating up/down */
@keyframes floatTyping {
0% { transform: translateY(0); }
50% { transform: translateY(-10px); }
100% { transform: translateY(0); }
}

/* 3D tilt */
@keyframes tilt3d {
0%   { transform: rotateX(0deg) rotateY(0deg); }
25%  { transform: rotateX(4deg) rotateY(-3deg); }
50%  { transform: rotateX(-3deg) rotateY(3deg); }
75%  { transform: rotateX(3deg) rotateY(-2deg); }
100% { transform: rotateX(0deg) rotateY(0deg); }
}

/* Liquid expanding pulse */
@keyframes liquidPulse {
0%   { transform: scale(0.95); opacity: 0.25; }
50%  { transform: scale(1.03); opacity: 0.40; }
100% { transform: scale(0.95); opacity: 0.25; }
}

/* VisionOS soft fog motion */
@keyframes fogFloat {
0% { opacity: 0.15; transform: translateY(0); }
100% { opacity: 0.35; transform: translateY(-10px); }
}

/* ============================================================
LOGO ORBIT + SHINE + GLOW (Ultra Premium)
============================================================ */
.dahdouh-logo-wrapper {
position: relative;
width: 50px;
height: 50px;
animation: logoFloat 4s ease-in-out infinite;
}

/* Logo floating */
@keyframes logoFloat {
0% { transform: translateY(0); }
50% { transform: translateY(-6px); }
100% { transform: translateY(0); }
}

.dahdouh-logo {
width: 50px;
height: 50px;
border-radius: 50%;
animation: logoGlow 3s ease-in-out infinite;
position: relative;
z-index: 3;
}

/* Glow + Shine */
@keyframes logoGlow {
0%   { filter: drop-shadow(0 0 12px rgba(79,70,229,0.5)); }
50%  { filter: drop-shadow(0 0 22px rgba(79,70,229,0.8)); }
100% { filter: drop-shadow(0 0 12px rgba(79,70,229,0.5)); }
}

/* Orbiting ring */
.dahdouh-spin-circle {
position: absolute;
top: -10px;
left: -10px;
width: 70px;
height: 70px;
border-radius: 50%;
border: 3px solid transparent;
border-top-color: var(--primary);
border-left-color: var(--secondary);
animation: orbitSpin 1.4s linear infinite;
filter: drop-shadow(0 0 12px rgba(79,70,229,0.6));
z-index: 1;
}

@keyframes orbitSpin {
from { transform: rotate(0deg) scale(1); }
to   { transform: rotate(360deg) scale(1); }
}

/* ============================================================
AUTOMATIC DYNAMIC BACKGROUND — SWITCH EVERY 2 SECONDS
============================================================ */

body.theme-1 { background: radial-gradient(circle, #e7e7ff, #e0f3ff); }
body.theme-2 { background: radial-gradient(circle, #f8e7ff, #e7faff); }
body.theme-3 { background: radial-gradient(circle, #ffe7e7, #fff2e7); }
body.theme-4 { background: radial-gradient(circle, #e7fff4, #e7f5ff); }

@keyframes themeCycle {
0%   { background: var(--light); }
25%  { background: var(--theme2); }
50%  { background: var(--theme3); }
75%  { background: var(--theme4); }
100% { background: var(--theme1); }
}